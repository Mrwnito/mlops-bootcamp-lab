# Training image: installs only what we need to run a quick sklearn experiment
FROM python:3.10-slim

WORKDIR /app

RUN pip install --no-cache-dir \
    mlflow==2.9.2 \
    scikit-learn==1.3.2 \
    pandas==2.1.4

COPY train.py .

ENV MLFLOW_TRACKING_URI=http://mlflow:5000
ENV MLFLOW_EXPERIMENT_NAME=diabetes-regression

CMD ["python", "train.py"]
